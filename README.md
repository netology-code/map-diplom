# Курсовой проект «Потокобезопасная очередь»

Пул потоков на базе потокобезопасной очереди.

### Что нужно сделать:

Создать потокобезопасную очередь, хранящую функции, предназначенные для исполнения.
На основе данной очереди реализовать пул потоков. 
Данный пул состоит из фиксированного числа рабочих потоков (равного количеству аппаратных ядер).
Когда у программы появляется какая-то работа, она вызывает функцию, которая помещает эту работу в очередь.
Рабочий поток забирает работу из очереди, выполняет указанную в ней задачу, после чего проверяет, есть ли в очереди другие работы.

Реализуемые классы.

#### 1. Класс thread_pool, представляющий собой реализацию пула потоков.

Минимально требуемые поля класса thread_pool:

* вектор потоков, инициализируемых в конструкторе класса и уничтожаемых в деструкторе;
* потокобезопасная очередь задач для хранения очереди работ;
* остальные поля на усмотрение разработчка.

Минимально требуемые методы класса thread_pool:

* метод work – выбирает из очереди очередную задачи и исполняет ее. Данный метод передается конструктору потоков для исполнения.
* метод submit – помещает в очередь очередную задачу. В качестве принимаемого аргумента метод может принимать или объект шаблона std::function, или объект шаблона package_task.
* Остальные методы на усмотрение разработчика.

#### 2. Шаблонный класс safe_queue, представляющий собой реализацию очереди, безопасной относительно одновременного доступа из нескольких потоков.

Минимально требуемые поля класса safe_queue:

* очередь std::queue для хранения задач; 
* std::mutex для реализации блокировки;
* std::condtional_variables для уведомлений.

Минимально требуемые методы класса safe_queue:

* метод push – записывает в начало очереди новую задачу. При этом захватывает мьютекс, а после окончания операции нотифицируется условная переменная.
* метод pop – находится в ожидании, пока не придут уведомление на условную переменную. При нотификации условной переменной данные считываются из очереди.
* Остальные методы на усмотрение разработчика.

### Алгоритм работы

1. Объявить объект класса thread_pool.
2. Описать несколько тестовых функций, выводящих в консоль свое имя.
3. Раз в секунду класть в пул одновременно 2 функции и проверять их исполнение.





